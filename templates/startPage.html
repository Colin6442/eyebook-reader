<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="../static/css/startPage.css">
    <title>EyeReader</title>
   
</head>


<body id = "myBody">

<h1> Welcome to Lazy Eye<sup>TM</sup> <br> or Something</h1>
<!-- action="{{ url_for('calibration')}}" -->
<!-- enctype=multipart/form-data -->
<form action="{{ url_for('calibration')}}" method="POST" enctype=multipart/form-data>
    <span id="custom-text">No txt chosen, yet</span>
    <br>
    <input type="file" id="real-button"  accept=".txt, .epub" name = "file" hidden="hidden" onchange="uploadReady()">
    <button type="button" id="custom-button">Import TXT</button>
    <button type=submit id="confirm-button" value=Upload>Upload</button>
    
</form>
<script>
    function uploadReady(){
		document.getElementById("confirm-button").style.backgroundColor = "darkgreen";
    }
</script>

<script type="text/javascript">
    
    const realBtn = document.getElementById("real-button")
    const customBtn = document.getElementById("custom-button");
    const customTxt = document.getElementById("custom-text");

    customBtn.addEventListener("click", function() {
        realBtn.click();
    });

    realBtn.addEventListener("change", function(){
        if(realBtn.value){
            customTxt.innerHTML = realBtn.value.match(/[\/\\]([\w\d\s\.\-\(\)]+)$/)[1];
        }
        else
            customTxt.innerHTML = "No PDF chosen, yet";
    })
</script>
</body>
</html>